!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).AnalyticsEventsHelper=n()}(this,(function(){"use strict";function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(){function n(e){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.events=e,this._mandatoryKeys=["domEvent","el","eventCategory","eventAction"],this._availableKeysForEvent=["eventCategory","eventAction","eventLabel","eventValue"],console.group("Received events: "),console.log(this.events),console.groupEnd(),!this._isValidConfig())throw"Invalid configuration exception.";this.addEvents(this.events)}var t,o,i;return t=n,(o=[{key:"addEvent",value:function(e){for(var n=this,t=document.querySelectorAll(e.el),o=0;o<t.length;o++)t[o].addEventListener(e.domEvent,(function(){void 0!==ga?ga("send",Object.assign({hitType:"event"},n._extractValuesFromEvent(e,this))):console.error("Google Analytics not included or blocked by the browser.")}))}},{key:"addEvents",value:function(e){var n=this;e.forEach((function(e){console.info('Adding event "'.concat(e.eventCategory,'".')),n.addEvent(e)}))}},{key:"_isValidConfig",value:function(){if(this.events instanceof Array&&this.events.length>0){console.info("Configuration is Array and bigger than zero.");for(var e=0;e<this.events.length;e++)for(var n=this.events[e],t=0;t<this._mandatoryKeys.length;t++){var o=this._mandatoryKeys[t];if(console.info('Checking if configuration has mandatory key "'.concat(o,'"')),!n.hasOwnProperty(o)||null===n[o])return console.error('The configuration at position "'.concat(t,'" doesn\'t have the mandatory key "').concat(o,"\" or it's null.")),!1}return!0}return!1}},{key:"_extractValuesFromEvent",value:function(e,n){var t=Object.keys(e),o={};console.group("Extracting values from event:");for(var i=0;i<t.length;i++){var a=t[i];if(-1!==this._availableKeysForEvent.indexOf(a)){var r=e[a];"function"==typeof r?(console.info('Return type of the event key "'.concat(a,'" is a function.')),o[a]=r.apply(n)):(console.info('Return type of the event key "'.concat(a,'" is a literal "').concat(r,'".')),o[a]=r)}else console.log("Invalid key for GA event:\"' + key + '\".")}return console.group("Values:"),console.log(o),console.groupEnd(),console.groupEnd(),o}}])&&e(t.prototype,o),i&&e(t,i),n}()}));
